{"ast":null,"code":"import _slicedToArray from \"/Users/vasukaker/Desktop/Startups/BeaverNavNew/BeaverNav/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/vasukaker/Desktop/Startups/BeaverNavNew/BeaverNav/frontend/src/pages/Home.js\";\nimport React from 'react';\nimport GoogleLogin from 'react-google-login';\nimport { useState } from 'react';\nimport { applyMiddleware } from '@reduxjs/toolkit';\nexport default function Home() {\n  var _useState = useState(localStorage.getItem('loginData') ? JSON.parse(localStorage.getItem('loginData')) : null),\n    _useState2 = _slicedToArray(_useState, 2),\n    loginData = _useState2[0],\n    setLoginData = _useState2[1];\n  var handleFailure = function handleFailure(result) {\n    alert(result);\n  };\n  var handleLogin = function handleLogin(googleData) {\n    console.log(googleData);\n  };\n  // const handleLogin = async (googleData) => {\n  //     const res = await fetch('/api/google-login', {\n  //         method: 'POST',\n  //         body: JSON.stringify({\n  //             token: googleData.tokenId,\n  //         }),\n  //         headers: {\n  //             'Content-Type': 'application/json',\n  //         },\n  //     });\n\n  //     const data = await res.json()\n  //     setLoginData(data);\n  //     localStorage.setItem('loginData', JSON.stringify(data));\n  // };\n\n  var handleLogout = function handleLogout() {\n    localStorage.removeItem('loginData');\n    setLoginData(null);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"App-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, \"React Google Login App\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }\n  }, loginData ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }, \"Welcome back \", loginData.email), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleLogout,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  }, \"Logout\")) : /*#__PURE__*/React.createElement(GoogleLogin, {\n    clientId: process.env.REACT_APP_GOOGLE_CLIENT_ID,\n    buttonText: \"Log in with Google\",\n    onSuccess: handleLogin,\n    onFailure: handleFailure,\n    cookiePolicy: 'single_host_origin',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }))));\n}","map":{"version":3,"names":["React","GoogleLogin","useState","applyMiddleware","Home","localStorage","getItem","JSON","parse","loginData","setLoginData","handleFailure","result","alert","handleLogin","googleData","console","log","handleLogout","removeItem","email","process","env","REACT_APP_GOOGLE_CLIENT_ID"],"sources":["/Users/vasukaker/Desktop/Startups/BeaverNavNew/BeaverNav/frontend/src/pages/Home.js"],"sourcesContent":["import React from 'react'\nimport GoogleLogin from 'react-google-login';\nimport {useState} from 'react';\nimport { applyMiddleware } from '@reduxjs/toolkit';\n\nexport default function Home() {\n    const [loginData, setLoginData] = useState(\n        localStorage.getItem('loginData') ? JSON.parse(localStorage.getItem('loginData'))\n        : null\n    );\n\n    const handleFailure = (result) => {\n        alert(result);\n    };\n\n    const handleLogin = (googleData) => {\n        console.log(googleData)\n    }\n    // const handleLogin = async (googleData) => {\n    //     const res = await fetch('/api/google-login', {\n    //         method: 'POST',\n    //         body: JSON.stringify({\n    //             token: googleData.tokenId,\n    //         }),\n    //         headers: {\n    //             'Content-Type': 'application/json',\n    //         },\n    //     });\n\n    //     const data = await res.json()\n    //     setLoginData(data);\n    //     localStorage.setItem('loginData', JSON.stringify(data));\n    // };\n\n\n\n    const handleLogout = () => {\n        localStorage.removeItem('loginData');\n        setLoginData(null);\n    };\n\n\n    return (\n        <div className=\"App\">\n            <header className=\"App-header\">\n                <h1>React Google Login App</h1>\n                <div>\n                    {\n                        loginData ? (\n                            <div>\n                                <h3>Welcome back {loginData.email}</h3>\n                                <button onClick={handleLogout}>Logout</button>\n                            </div>\n                        ) : (\n                            <GoogleLogin \n                            clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID} \n                            buttonText=\"Log in with Google\"\n                            onSuccess={handleLogin}\n                            onFailure={handleFailure}\n                            cookiePolicy={'single_host_origin'}\n                            >\n                            </GoogleLogin>\n                        )\n                    }\n                </div>\n            </header>\n        </div>\n    );\n}"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,oBAAoB;AAC5C,SAAQC,QAAQ,QAAO,OAAO;AAC9B,SAASC,eAAe,QAAQ,kBAAkB;AAElD,eAAe,SAASC,IAAI,GAAG;EAAA,gBACOF,QAAQ,CACtCG,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,GAC/E,IAAI,CACT;IAAA;IAHMG,SAAS;IAAEC,YAAY;EAK9B,IAAMC,aAAa,GAAG,SAAhBA,aAAa,CAAIC,MAAM,EAAK;IAC9BC,KAAK,CAACD,MAAM,CAAC;EACjB,CAAC;EAED,IAAME,WAAW,GAAG,SAAdA,WAAW,CAAIC,UAAU,EAAK;IAChCC,OAAO,CAACC,GAAG,CAACF,UAAU,CAAC;EAC3B,CAAC;EACD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;;EAIA,IAAMG,YAAY,GAAG,SAAfA,YAAY,GAAS;IACvBb,YAAY,CAACc,UAAU,CAAC,WAAW,CAAC;IACpCT,YAAY,CAAC,IAAI,CAAC;EACtB,CAAC;EAGD,oBACI;IAAK,SAAS,EAAC,KAAK;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAChB;IAAQ,SAAS,EAAC,YAAY;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAC1B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,wBAAsB,CAAK,eAC/B;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAEQD,SAAS,gBACL;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACI;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAI,eAAa,EAACA,SAAS,CAACW,KAAK,CAAM,eACvC;IAAQ,OAAO,EAAEF,YAAa;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,GAAC,QAAM,CAAS,CAC5C,gBAEN,oBAAC,WAAW;IACZ,QAAQ,EAAEG,OAAO,CAACC,GAAG,CAACC,0BAA2B;IACjD,UAAU,EAAC,oBAAoB;IAC/B,SAAS,EAAET,WAAY;IACvB,SAAS,EAAEH,aAAc;IACzB,YAAY,EAAE,oBAAqB;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAGtC,CAEH,CACD,CACP;AAEd"},"metadata":{},"sourceType":"module"}